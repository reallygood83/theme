# 🚀 Question Talk - 환경 변수 설정 가이드

## 📋 필수 API 키 설정

### 1. **Firebase 설정** (필수 ⭐)
```bash
NEXT_PUBLIC_FIREBASE_API_KEY=your_firebase_api_key
NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN=your_firebase_auth_domain
NEXT_PUBLIC_FIREBASE_PROJECT_ID=your_firebase_project_id
NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET=your_firebase_storage_bucket
NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=your_firebase_messaging_sender_id
NEXT_PUBLIC_FIREBASE_APP_ID=your_firebase_app_id
NEXT_PUBLIC_FIREBASE_DATABASE_URL=your_firebase_database_url
```
- **용도**: 사용자 인증, 데이터베이스, 파일 저장
- **발급**: https://console.firebase.google.com
- **비용**: 무료 (적당한 사용량까지)

### 2. **Google Gemini API** (필수 ⭐)
```bash
GEMINI_API_KEY=your_gemini_api_key
```
- **용도**: AI 질문 분석, 논제 추천, 용어 정의
- **발급**: https://aistudio.google.com/app/apikey
- **비용**: 무료 할당량 포함

## 📊 근거자료 검색 개선 API (권장)

### 3. **네이버 검색 API** (강력 권장 🎯)
```bash
NAVER_CLIENT_ID=your_naver_client_id
NAVER_CLIENT_SECRET=your_naver_client_secret
```
- **용도**: 안정적인 한국어 뉴스 검색
- **발급**: https://developers.naver.com/apps
- **장점**: 프록시 오류 없음, 신뢰할 수 있는 뉴스 소스
- **비용**: 무료 (일 25,000회)

### 4. **YouTube Data API v3** (권장 🎬)
```bash
YOUTUBE_API_KEY=your_youtube_api_key
```
- **용도**: 교육용 YouTube 영상 검색
- **발급**: https://console.developers.google.com
- **장점**: 교육 채널 필터링, 부적절한 콘텐츠 차단
- **비용**: 무료 할당량 (일 10,000 units)

### 5. **Perplexity API** (백업용 💰)
```bash
PERPLEXITY_API_KEY=your_perplexity_api_key
```
- **용도**: 고급 검색 백업 (네이버 API 실패 시)
- **발급**: https://www.perplexity.ai/settings/api
- **비용**: 유료 ($20/월부터)
- **참고**: 프록시 문제로 불안정함

## 🛡️ 안전 검색 시스템 개선사항

### ✅ 개선된 검색 품질
- **네이버 뉴스**: SSL 오류 없는 안정적 검색
- **교육용 YouTube**: 화이트리스트 기반 채널 필터링
- **부적절 콘텐츠 차단**: 19금, 폭력, 혐오 표현 자동 필터링
- **원문 링크 보장**: 실제 접근 가능한 URL만 제공

### 📚 교육적 가치 강화
- **EBS, KBS 교육** 채널 우선 검색
- **초등학생 이해 수준** 맞춤 콘텐츠
- **학교 현장 적용** 가능한 자료만 선별
- **교육과정 연계** 자료 우선 제공

## 🔧 설정 방법

### 1단계: 환경 변수 파일 생성
```bash
# 프로젝트 루트에 .env.local 파일 생성
cp .env.example .env.local
```

### 2단계: 필수 API 키 설정
- Firebase (필수)
- Gemini API (필수)

### 3단계: 검색 품질 개선을 위한 추가 API (권장)
- 네이버 검색 API
- YouTube Data API

### 4단계: 테스트
```bash
npm run dev
# http://localhost:3000에서 근거자료 검색 테스트
```

## 📈 API별 효과

| API | 설정 시 효과 | 미설정 시 영향 |
|-----|-------------|--------------|
| **Firebase** | 전체 기능 정상 작동 | 앱 작동 불가 |
| **Gemini** | AI 분석 기능 활성화 | AI 기능 사용 불가 |
| **네이버 검색** | 안정적 뉴스 검색 | 프록시 오류 발생 가능 |
| **YouTube** | 고품질 교육 영상 | 관련성 낮은 영상 포함 |
| **Perplexity** | 백업 검색 지원 | 네이버 실패 시 대안 없음 |

## 💡 권장 설정 조합

### 💯 **완전 설정** (최고 품질)
- Firebase + Gemini + 네이버 + YouTube + Perplexity
- 모든 기능 완벽 작동, 최고 품질 근거자료

### 🎯 **권장 설정** (교육용 최적)
- Firebase + Gemini + 네이버 + YouTube
- 안정적이고 교육적 가치 높은 검색 결과

### ⭐ **기본 설정** (최소 요구사항)
- Firebase + Gemini
- 기본 기능 사용 가능, 근거자료 품질 제한적

## 🚨 중요 참고사항

### 보안
- `.env.local` 파일은 절대 GitHub에 올리지 마세요
- API 키는 외부에 노출되지 않도록 주의하세요

### 비용 관리
- 무료 할당량 모니터링
- Perplexity는 유료이므로 필요에 따라 설정

### 교육 현장 적용
- 네이버 + YouTube 조합이 한국 교육 환경에 가장 적합
- 부적절한 콘텐츠 필터링으로 학생들에게 안전한 자료 제공